<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"">
	<!--fontawesome-->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<!--google fonts-->
  
	<!-- <link rel="stylesheet" type="text/css" href="style.css"> -->
	<style>
		.stars-outer{
			position: relative;
			display: inline-block;
		}
		.stars-inner{
			position: absolute;
			overflow: hidden;
			width: 0;
			top: 0;
			left: 0;
			white-space: nowrap;
			overflow: hidden;
		}
		.stars-outer::before{
			content: "\f005 \f005 \f005 \f005 \f005";
			font-family: 'Fontawesome';
			color: #ccc;
			font-weight: 900;
		}
		.stars-inner:before{
			content: '\f005 \f005 \f005 \f005 \f005';
			font-family: 'Fontawesome';
			color: #fece0b;
			font-weight: 900;
		}
	</style>
</head>
<body>
<div class="container mt-5">
	<div class="form-group">
		<select id="product-select" class="form-control custom-select">
			<option value="0" disabled selected>Select Product</option>
			<option value="sony">Sony</option>
			<option value="samsung">Samsung</option>
			<option value="vizio">Vizio</option>
			<option value="panasonic">Panasonic</option>
			<option value="phillips">Phillips</option>
		</select>
	</div>
	<div class="form-group">
		<input step=0.1 max="5" class="form-control" type="number" id="rating-control" placeholder="Rate 1-5" disabled>
	</div>
	<table class="table table-striped">
		<thead>
			<tr>
				<th>Television</th>
				<th>Rating</th>
			</tr>
		</thead>
		<tbody>
			<tr class="sony">
				<td>Sony 4K Television</td>
				<td>
					<div class="stars-outer">
						<div class="stars-inner"></div>
					</div>
					<span class="number-rating"></span>	
				</td>
			</tr>
			<tr class="samsung">
				<td>Samsung 4K Television</td>
				<td>
					<div class="stars-outer">
						<div class="stars-inner"></div>
					</div>
					<span class="number-rating"></span>
				</td>
			</tr>
			<tr class="vizio">
				<td>Vizio 4K Television</td>
				<td>
					<div class="stars-outer">
						<div class="stars-inner"></div>
					</div>
					<span class="number-rating"></span>
				</td>
			</tr>
			<tr class="panasonic">
				<td>Panasonic 4K Television</td>
				<td>
					<div class="stars-outer">
						<div class="stars-inner"></div>
					</div>
					<span class="number-rating"></span>
				</td>
			</tr>
			<tr class="phillips">
				<td>Phillips 4K Television</td>
				<td>
					<div class="stars-outer">
						<div class="stars-inner"></div>
					</div>
					<span class="number-rating"></span>
				</td>
			</tr>
		</tbody>
	</table>
</div>


<script>
	const ratings={
	sony:4.7,
	samsung:3.4,
	vizio:2.3,
	panasonic:3.6,
	phillips:4.1
}

let starTotal=5

document.addEventListener("DOMContentLoaded",function(){
	getRating();
});
let product;
const productSelect=document.querySelector("#product-select");
const ratingControl=document.querySelector("#rating-control");

productSelect.addEventListener("change",function(e){
	product= e.target.value;
	ratingControl.disabled=false;
	ratingControl.value=ratings[product];
})

ratingControl.addEventListener("blur",function(e){
	let rating=e.target.value;
	if(rating>5){
		alert("Please enter a value between 1-5");
	}
	ratings[product]=rating;
	getRating();
})

function getRating(){
	for(let rating in ratings){
		// console.log(rating)
		const starPercentage= (ratings[rating]/starTotal)*100;
		const starPercentageRounded= Math.round(starPercentage/10)*10 + "%";
		document.querySelector(`.${rating} .stars-inner`).style.width=starPercentageRounded;
		document.querySelector(`.${rating} .number-rating`).innerHTML=ratings[rating]
	}
}
</script>
<!-- <script type="text/javascript" src="app.js"></script> -->


<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>			
</body>
</html>